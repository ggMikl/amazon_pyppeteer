# 简介

使用`pyppeteer`实现一下动作，由于`pyppeteer`本身就在`asyncio`框架内，所以整体就采用了协程。

## 参数输入

```pyton
# 抓取模式
# MODE = 'Normal' #在数据库中取指定最大数量（默认30）的商品抓取
MODE = 'Retry'  # 在数据库中取抓取失败的商品，也就是重试
NUM = 30 #抓取数量
TYPE_MODE = True #是否抓取商品页的型号
COROUTINE_NUM = 5 #协程数

#数据库参数
db_host =''
db_prot = 3306
db_user = ''
db_password = ''
db_db = ''

#代理池
proxy_host = ''
proxy_port = ''
```

需要你输入抓取模式，代理池，数据库等参数。

## 代理池

- 如果需要验证的模式，在`ProxyHandle.py`修改一下
- 程序大量时间耗在获取有效代理上，即便获取到了代理也会因为代理质量太差发生超时错误（需要等待30s才报错）
- 如果可以的话使用高质量代理
- 不使用代理用本机ip直连容易触发亚马逊的反爬机制（比如验证码）

## 启动

- Normal就一般的抓取，在数据库提取30（默认）个商品编号
- Retry从数据库中取30（默认）个之前抓取失败的商品编号

